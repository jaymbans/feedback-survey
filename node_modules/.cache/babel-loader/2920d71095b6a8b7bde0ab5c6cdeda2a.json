{"ast":null,"code":"import _slicedToArray from\"/Users/jordanm/Desktop/React Front to Back/feedback-survey/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from'./shared/Card';import Button from'./shared/Button';import RatingSelect from'./RatingSelect';import{useState,useContext,useEffect}from'react';import FeedbackContext from'../context/FeedbackContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FeebackForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),btnDisabled=_useState4[0],setBtnDisabled=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var _useContext=useContext(FeedbackContext),addFeedback=_useContext.addFeedback,feedbackEdit=_useContext.feedbackEdit,updateFeedback=_useContext.updateFeedback;useEffect(function(){if(feedbackEdit.edit===true){setBtnDisabled(false);setText(feedbackEdit.item.text);setRating(feedbackEdit.item.rating);}},[feedbackEdit]);var handleTextChange=function handleTextChange(_ref){var target=_ref.target;if(text===''){setBtnDisabled(true);setMessage(null);}else if(text!==''&&text.trim().length<=10){setMessage('Your Review must be longer than 10 characters');}else{setMessage('');setBtnDisabled(false);}setText(target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(text.trim().length>=10){var newFeedback={text:text,rating:rating};if(feedbackEdit.edit===true){updateFeedback(feedbackEdit.item.id,newFeedback);}else{addFeedback(newFeedback);}setText('');}};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"How would you rate your experience?\"}),/*#__PURE__*/_jsx(RatingSelect,{select:function select(rating){return setRating(rating);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleTextChange,type:\"text\",placeholder:\"Write a Review\",id:\"\",value:text}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isDisabled:btnDisabled,children:\"Submit Review\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message})]})]})});}export default FeebackForm;","map":{"version":3,"sources":["/Users/jordanm/Desktop/React Front to Back/feedback-survey/src/components/FeedbackForm.jsx"],"names":["Card","Button","RatingSelect","useState","useContext","useEffect","FeedbackContext","FeebackForm","text","setText","btnDisabled","setBtnDisabled","message","setMessage","rating","setRating","addFeedback","feedbackEdit","updateFeedback","edit","item","handleTextChange","target","trim","length","value","handleSubmit","e","preventDefault","newFeedback","id"],"mappings":"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","sourcesContent":["import Card from './shared/Card';\nimport Button from './shared/Button';\nimport RatingSelect from './RatingSelect';\nimport { useState, useContext, useEffect } from 'react';\nimport FeedbackContext from '../context/FeedbackContext';\n\nfunction FeebackForm() {\n  const [text, setText] = useState('');\n  const [btnDisabled, setBtnDisabled] = useState(true);\n  const [message, setMessage] = useState('');\n  const [rating, setRating] = useState(10);\n\n  const { addFeedback, feedbackEdit, updateFeedback } = useContext(FeedbackContext);\n\n\n  useEffect(() => {\n    if (feedbackEdit.edit === true) {\n      setBtnDisabled(false);\n      setText(feedbackEdit.item.text)\n      setRating(feedbackEdit.item.rating)\n    }\n  }, [feedbackEdit])\n\n\n  const handleTextChange = ({ target }) => {\n    if (text === '') {\n      setBtnDisabled(true);\n      setMessage(null);\n    } else if (text !== '' && text.trim().length <= 10) {\n      setMessage('Your Review must be longer than 10 characters')\n    } else {\n      setMessage('')\n      setBtnDisabled(false);\n    }\n\n    setText(target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (text.trim().length >= 10) {\n      const newFeedback = {\n        text,\n        rating\n      }\n\n      if (feedbackEdit.edit === true) {\n        updateFeedback(feedbackEdit.item.id, newFeedback)\n      } else {\n        addFeedback(newFeedback);\n      }\n\n      setText('');\n    }\n\n  }\n\n  return (\n    <Card>\n      <form onSubmit={handleSubmit}>\n        <h2>How would you rate your experience?</h2>\n        <RatingSelect select={(rating) => setRating(rating)} />\n        <div className=\"input-group\">\n          <input\n            onChange={handleTextChange}\n            type=\"text\"\n            placeholder='Write a Review'\n            id=\"\" value={text}\n          />\n          <Button type='submit' isDisabled={btnDisabled}>Submit Review</Button>\n\n          {message && <div className='message'>{message}</div>}\n        </div>\n      </form>\n    </Card>\n  )\n}\n\nexport default FeebackForm\n"]},"metadata":{},"sourceType":"module"}